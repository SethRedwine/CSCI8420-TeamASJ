# Code Analysis for Software Security Engineering
## TeamASJY

### Code Review Strategy

For the code review of Mailpile, we decided to use both an automated and manual analysis approach. The automated code review was performed using the Bandit and Pylint analysis tools and the entire codebase of Mailpile was scanned. These tools were mainly used to identify potential security concerns and general flaws with the source code that could cause problems with the software. For the manual code review, we decided to follow a risk-based approach in order to identify flaws in the critical security functions of Mailpile. Once any flaws were determined, they were categorized based on the CWE that they describe. Both the manual and automated code review process will be focused on finding potential security flaws based on the requirements that we have outlined in our misuse cases, assurance cases, and threat models.

### Manual Code Review Findings

### Automated Code Review Findings

The reports generated by the scanning tools are available at the links below. As mentioned before, both Bandit and Pylint were used for automatic analysis. Bandit is a tool that is mainly focused on finding security vulnerabilities within Python code. Pylint can also be used to find common security vulnerabilities but it is mainly used to find general errors within Python code. 

#### Bandit Findings

One of the most common low severity potential vulnerabilities found by Bandit is the use of standard pseudo-random number generators. Bandit warns that these types of generators "are not suitable for security/cryptographic purposes". Most of these occur in modules that do not provide core security functions, but these could still create vulnerabilities if cracked. Another commmon low severity vulnerability is catching all exceptions instead of catching specific ones. There are quite a few instances of "Try, Except, Pass" blocks being used. Instead of looking for specific exceptions and handling each one appropriately, all exceptions are being caught and simply ignored. This can cause some security issues since there is no way to tell exactly which errors are occurring within these blocks. The next concern is the use of subprocesses within some source modules. These subprocesses are being used without any sort of input validation. For example, there is a subprocess in the file tor.py within the crypto module, and there is no input validation performed on the results of that subprocess. This could allow untrusted or unsecure data to enter the main process. The most concerning and highest severity issue that Bandit detected was the use of an insecure hashing function within a key lookup program. Within wkd.py, the SHA-1 hash function is being used. This hashing function has been proven to be unsecure and easy to break. A secure alternative would be to use an algorithm such as BCrypt.

#### Pylint Findings

Pylint did not detect very many actual security concerns within Mailpile since it is mainly focused on code quality checking. However, some security information can be extracted from the results. For example, Pylint detected that there were some sections of code that were marked as needing fixing, but were never fixed. For example, in auth.py, the developers flagged portions of code that need fixes such as implement password salting, needing CSRF protection, and possibly changing how an HTTP request is being sent. In the latest version of the source, these issues have not yet been addressed. Most of the issues they have marked for fixing are pretty significant from a security perspective and should be dealt with as soon as possible. Pylint also found a very large number of bad coding practices such as unused variables, unused functions, and a bad coding style in general. This can be concerning as it implies a lack of a solid engineering process which could lead to some unexpected behaviors that could negatively impact the application's security.

[Bandit Scan Report](https://github.com/SethRedwine/CSCI8420-TeamASJY/blob/master/CodeAnalysis/Reports/BanditReport.txt)

[Pylint Scan Report](https://github.com/SethRedwine/CSCI8420-TeamASJY/blob/master/CodeAnalysis/Reports/PylintReport.txt)

### Summary of Key Findings

### Project Interaction Links 

### Project Task Board
[Github Project Page](https://github.com/SethRedwine/CSCI8420-TeamASJY/projects/6)
